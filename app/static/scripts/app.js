!function(e){"use strict";var t=e.querySelector("#app");t.addEventListener("dom-change",function(){}),window.addEventListener("WebComponentsReady",function(){}),addEventListener("paper-header-transform",function(t){var o=e.querySelector("#mainToolbar .app-name"),n=e.querySelector("#mainToolbar .middle-container"),r=e.querySelector("#mainToolbar .bottom-container"),a=t.detail,i=a.height-a.condensedHeight,s=Math.min(1,a.y/i),c=.5,l=Math.max(c,(i-a.y)/(i/(1-c))+c),u=1-s;Polymer.Base.transform("translate3d(0,"+100*s+"%,0)",n),Polymer.Base.transform("scale("+u+") translateZ(0)",r),Polymer.Base.transform("scale("+l+") translateZ(0)",o)}),t.hideDrawer=function(){var t=e.querySelector("#paperDrawerPanel");t.narrow&&t.closeDrawer()},t.onDataRouteClick=function(){t.hideDrawer(),t._selectedRoute()},t.changePage=function(e){t.hideDrawer(),page(e,null,null,!1),t._selectedRoute()},t.onHistoryRouteClick=function(){t.onDataRouteClick(),t.startDate&&t.endDate||t.$.rangeSelector.open()},t.selectedRoute="map",t._selectedRoute=function(){t.showingPost=!1,t.showingMap=!1,t.showingCurrent=!1,t.showingHistory=!1,t.showingBlog=!1,"now"===t.route||"history"===t.route?(t.selectedRoute="map",t.showingMap=!0,"current"===t.route?t.showingCurrent=!0:"history"===t.route&&(t.showingHistory=!0)):(t.selectedRoute=t.route,"post"===t.route?t.showingPost=!0:"blog"===t.route&&(t.showingBlog=!0))},t.currentLocation="Somewhere in the world",t.locationSince="Since whenever",t.handleCurrent=function(){var e,o=t.current;e=o.city?o.city+", ":o.state?o.state+", ":"Somewhere in ",o.country&&(e+=o.country),"Somewhere in "===e&&(e="No idea where he is..."),t.currentLocation=e,t.locationSince="There for "+o.elapsed_humanized},t.historyUrl="",t.showingHistory=!1,t.makeHistoryUrl=function(){t.historyUrl=t.startDate?"/history/"+encodeURIComponent(t.startDate)+"/to/"+encodeURIComponent(t.endDate):"/history"},t.makeHistoryUrl(),addEventListener("blog-post-selected",function(e){if(t.postId=e.detail.postId,e.detail.link){var o=e.detail.link.split("/"),n=o[o.length-2];t.changePage("/blog/"+t.postId+"/"+n)}else t.changePage("/blog/"+t.postId)}),addEventListener("date-range-updated",function(){t.makeHistoryUrl(),t.changePage(t.historyUrl)}),t.showRangeSelector=function(){t.$.rangeSelector.open()},t.returnToHistory=function(){t.changePage(t.historyUrl)}}(document);